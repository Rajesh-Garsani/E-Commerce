{% extends 'base.html' %}
{% load static %}
{% block content %}


<div class="row">
  <div class="col-md-6">
    {% if product.image %}
    <img src="{{ product.image.url }}" class="img-fluid" alt="{{ product.name }}">
    {% else %}
    <img src="{% static 'images/placeholder.png' %}" class="img-fluid" alt="No image">
    {% endif %}
  </div>
  <div class="col-md-6">
    <h2>{{ product.name }}</h2>
    <p>{{ product.description }}</p>
    <p><strong>Price:</strong> ${{ product.price|floatformat:2 }}</p>

    <!-- Fixed: Add to Cart POST form -->
    <form method="post" action="{% url 'add_to_cart' product.id %}">
      {% csrf_token %}
      <button type="submit" class="btn btn-primary">Add to Cart</button>
    </form>

    <!-- Order Now -->
    <form method="post" action="{% url 'place_order' %}" style="margin-top:10px;">
      {% csrf_token %}
      <input type="hidden" name="product_id" value="{{ product.id }}">
      <button type="submit" class="btn btn-success">Order Now</button>
    </form>
  </div>
</div>

{% endblock %}
